!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).dragula=e()}(function(){return function o(i,r,u){function c(t,e){if(!r[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(a)return a(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=r[t]={exports:{}},i[t][0].call(n.exports,function(e){return c(i[t][1][e]||e)},n,n.exports,o,i,r,u)}return r[t].exports}for(var a="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,t,n){"use strict";var o={},i="(?:^|\\s)",r="(?:\\s|$)";function u(e){var t=o[e];return t?t.lastIndex=0:o[e]=t=new RegExp(i+e+r,"g"),t}t.exports={add:function(e,t){var n=e.className;n.length?u(t).test(n)||(e.className+=" "+t):e.className=t},rm:function(e,t){e.className=e.className.replace(u(t)," ").trim()}}},{}],2:[function(e,t,n){(function(i){(function(){"use strict";var q=e("contra/emitter"),H=e("crossvent"),U=e("./classes"),G=document,K=G.documentElement;function z(e,t,n,o){i.navigator.pointerEnabled?H[t](e,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[n],o):i.navigator.msPointerEnabled?H[t](e,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[n],o):(H[t](e,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[n],o),H[t](e,n,o))}function V(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;e=e.button;return void 0!==e?1&e?1:2&e?3:4&e?2:0:void 0}function W(e,t){return void 0!==i[t]?i[t]:(K.clientHeight?K:G.body)[e]}function $(e,t,n){var o=e||{},e=o.className;return o.className+=" gu-hide",n=G.elementFromPoint(t,n),o.className=e,n}function J(){return!1}function Q(){return!0}function Z(e){return e.width||e.right-e.left}function ee(e){return e.height||e.bottom-e.top}function te(e){return e.parentNode===G?null:e.parentNode}function ne(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||function e(t){if(!t)return!1;if("false"===t.contentEditable)return!1;if("true"===t.contentEditable)return!0;return e(te(t))}(e)}function oe(t){return t.nextElementSibling||function(){var e=t;for(;e=e.nextSibling,e&&1!==e.nodeType;);return e}()}function ie(e,t){var t=(n=t).targetTouches&&n.targetTouches.length?n.targetTouches[0]:n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,n={pageX:"clientX",pageY:"clientY"};return e in n&&!(e in t)&&n[e]in t&&(e=n[e]),t[e]}t.exports=function(e,t){var v,g,h,y,w,i,r,b,T,E,n;1===arguments.length&&!1===Array.isArray(e)&&(t=e,e=[]);var u,x=null,C=0,S=t||{};void 0===S.moves&&(S.moves=Q),void 0===S.accepts&&(S.accepts=Q),void 0===S.invalid&&(S.invalid=function(){return!1}),void 0===S.containers&&(S.containers=e||[]),void 0===S.isContainer&&(S.isContainer=J),void 0===S.copy&&(S.copy=!1),void 0===S.copySortSource&&(S.copySortSource=!1),void 0===S.revertOnSpill&&(S.revertOnSpill=!1),void 0===S.removeOnSpill&&(S.removeOnSpill=!1),void 0===S.direction&&(S.direction="vertical"),void 0===S.ignoreInputTextSelection&&(S.ignoreInputTextSelection=!0),void 0===S.mirrorContainer&&(S.mirrorContainer=G.body),void 0===S.customGhost&&(S.customGhost=!1),void 0===S.animate&&(S.animate={duration:150,noAnimateClass:""}),void 0===S.uglyHack&&(S.uglyHack=!1);var O,I,N=q({containers:S.containers,start:function(e){e=m(e);e&&p(e)},end:Y,cancel:R,remove:A,destroy:function(){o(!0),L({})},canMove:function(e){return!!m(e)},dragging:!1});function _(e,t,n){var o=S.copySortSource;return"function"==typeof o&&(o=o(e,t,n)),o}return!0===S.removeOnSpill&&N.on("over",function(e){U.rm(e,"gu-hide")}).on("out",function(e){N.dragging&&U.add(e,"gu-hide")}),o(),N;function c(e){return-1!==N.containers.indexOf(e)||S.isContainer(e)}function o(e){e=e?"remove":"add";z(K,e,"mousedown",s),z(K,e,"mouseup",L)}function a(e){z(K,e?"remove":"add","mousemove",d)}function l(e){e=e?"remove":"add";H[e](K,"selectstart",f),H[e](K,"click",f)}function f(e){u&&e.preventDefault()}function s(e){var t,n;i=e.clientX,r=e.clientY,1!==V(e)||e.metaKey||e.ctrlKey||(n=m(t=e.target))&&(u=n,a(),"mousedown"===e.type&&(ne(t)?t.focus():e.preventDefault()))}function d(e){var t;if(u)if(0!==V(e)){if(!(void 0!==e.clientX&&Math.abs(e.clientX-i)<=(S.slideFactorX||0)&&void 0!==e.clientY&&Math.abs(e.clientY-r)<=(S.slideFactorY||0))){if(S.ignoreInputTextSelection){var n=ie("clientX",e)||0,o=ie("clientY",e)||0;if(ne(G.elementFromPoint(n,o)))return}o=u;a(!0),l(),Y(),p(o),w=S.uglyHack?(t=h.getBoundingClientRect(),y=t.left-h.offsetLeft,t.top-h.offsetTop):(t=function(e){e=e.getBoundingClientRect();return{left:e.left+W("scrollLeft","pageXOffset"),top:e.top+W("scrollTop","pageYOffset")}}(h),y=ie("pageX",e)-t.left,ie("pageY",e)-t.top),U.add(E||h,"gu-transit"),S.customGhost&&(C=e.pageY-t.top-15),function(){if(v)return;var e=h.getBoundingClientRect();(v=h.cloneNode(!0)).style.width=Z(e)+"px",v.style.height=ee(e)+"px",U.rm(v,"gu-transit"),U.add(v,"gu-mirror"),S.mirrorContainer.appendChild(v),z(K,"add","mousemove",F),U.add(S.mirrorContainer,"gu-unselectable"),N.emit("cloned",v,h,"mirror")}(),F(e)}}else L({})}function m(e){if(!(N.dragging&&v||c(e))){for(var t=e;te(e)&&!1===c(te(e));){if(S.invalid(e,t))return;if(!(e=te(e)))return}var n=te(e);if(n)if(!S.invalid(e,t))if(S.moves(e,n,t,oe(e)))return{item:e,source:n}}}function p(e){var t,n;t=e.item,n=e.source,("boolean"==typeof S.copy?S.copy:S.copy(t,n))&&(E=e.item.cloneNode(!0),N.emit("cloned",E,e.item,"copy")),g=e.source,h=e.item,b=T=oe(e.item),N.dragging=!0,N.emit("drag",h,g)}function Y(){var e;N.dragging&&X(e=E||h,te(e))}function B(){a(!(u=!1)),l(!0)}function L(e){var t,n;B(),N.dragging&&(t=E||h,n=ie("clientX",e)||0,e=ie("clientY",e)||0,(e=D($(v,n,e),n,e))&&(E&&_(t,e,g)||!E||e!==g)?X(t,e):(S.removeOnSpill?A:R)())}function X(e,t){var n=te(e),o=_(e,t,g);E&&n&&o&&t===g&&n.removeChild(h),P(t)&&!o?N.emit("cancel",e,g,g):N.emit("drop",e,t,g,T),k()}function A(){var e,t;N.dragging&&((t=te(e=E||h))&&t.removeChild(e),N.emit(E?"cancel":"remove",e,t,g),k())}function R(e){var t,n,o;N.dragging&&(t=0<arguments.length?e:S.revertOnSpill,!1===(e=P(o=te(n=E||h)))&&t&&(E?o&&o.removeChild(E):g.insertBefore(n,b)),e||t?N.emit("cancel",n,g,g):N.emit("drop",n,o,g,T),k())}function k(){var e=E||h;B(),v&&(U.rm(S.mirrorContainer,"gu-unselectable"),z(K,"remove","mousemove",F),te(v).removeChild(v),v=null),e&&U.rm(e,"gu-transit"),n&&clearTimeout(n),N.dragging=!1,x&&N.emit("out",e,x,g),N.emit("dragend",e),g=h=E=b=T=n=x=null}function P(e,t){t=void 0!==t?t:v?T:oe(E||h);return e===g&&t===b}function D(t,n,o){for(var i=t;i&&!function(){if(!1===c(i))return!1;var e=M(i,t),e=j(i,e,n,o);if(P(i,e))return!0;return S.accepts(h,i,g,e)}();)i=te(i);return i}function F(e){if(v){e.preventDefault();var t=ie("clientX",e)||0,n=ie("clientY",e)||0,o=t-y,i=n-w;event.pageY<O&&(I="up"),event.pageY>O&&(I="down"),O=event.pageY,event.pageX;var r=E||h;v.style.left=o+"px",v.style.top=i+C+"px";var u=$(v,t,n),c=D(u,t,n),a=null!==c&&c!==x;!a&&null!==c||(x&&p("out"),x=c,a&&p("over"));var l=te(r);if(c!==g||!E||_(r,c,g)){var f,s,d=M(c,u);if(null!==d)s=j(c,d,t,n);else{if(!0!==S.revertOnSpill||E)return void(E&&l&&l.removeChild(r));s=b,c=g}(null===s&&a||s!==r&&s!==oe(r))&&(f=T=s,e=I,o=c,u=(i=r).getBoundingClientRect(),d=i.previousElementSibling,t=d?d.getBoundingClientRect():null,n=oe(i),s=n?n.getBoundingClientRect():null,o.insertBefore(i,f),N.emit("insert",i,d,n),![].slice.apply(o.classList).some(function(e){return 0<=S.animate.noAnimateClass.indexOf(e)})&&0<o.children.length&&(d&&"up"===e&&(m(i,u),m(d,t)),n&&"down"===e&&(m(i,u),m(n,s))),N.emit("shadow",r,c,g))}else l&&l.removeChild(r)}function m(e,t){var n=e.getBoundingClientRect(),n=t.top-n.top;e.style.transition="none",e.style.transform="translate3d(0px, "+n+"px, 0px)",e.offsetWidth,e.style.transition="all "+S.animate.duration+"ms",e.style.transform="translate3d(0,0,0)",clearTimeout(e.animated),e.animated=setTimeout(function(){e.style.transition="",e.style.transform="",e.animated=!1},S.animate.duration)}function p(e){N.emit(e,r,x,g)}}function M(e,t){for(var n=t;n!==e&&te(n)!==e;)n=te(n);return n===K?null:n}function j(i,t,r,u){var c="horizontal"===S.direction;return(t!==i?function(){var e=t.getBoundingClientRect();if(c)return n(r>e.left+Z(e)/2);return n(u>e.top+ee(e)/2)}:function(){var e,t,n,o=i.children.length;for(e=0;e<o;e++){if(t=i.children[e],n=t.getBoundingClientRect(),c&&n.left+n.width/2>r)return t;if(!c&&n.top+n.height/2>u)return t}return null})();function n(e){return e?oe(t):t}}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./classes":1,"contra/emitter":5,crossvent:6}],3:[function(e,t,n){t.exports=function(e,t){return Array.prototype.slice.call(e,t)}},{}],4:[function(e,t,n){"use strict";var o=e("ticky");t.exports=function(e,t,n){e&&o(function(){e.apply(n||null,t||[])})}},{ticky:10}],5:[function(e,t,n){"use strict";var c=e("atoa"),a=e("./debounce");t.exports=function(i,e){var r=e||{},u={};return void 0===i&&(i={}),i.on=function(e,t){return u[e]?u[e].push(t):u[e]=[t],i},i.once=function(e,t){return t._once=!0,i.on(e,t),i},i.off=function(e,t){var n=arguments.length;if(1===n)delete u[e];else if(0===n)u={};else{e=u[e];if(!e)return i;e.splice(e.indexOf(t),1)}return i},i.emit=function(){var e=c(arguments);return i.emitterSnapshot(e.shift()).apply(this,e)},i.emitterSnapshot=function(o){var e=(u[o]||[]).slice(0);return function(){var t=c(arguments),n=this||i;if("error"===o&&!1!==r.throws&&!e.length)throw 1===t.length?t[0]:t;return e.forEach(function(e){r.async?a(e,t,n):e.apply(n,t),e._once&&i.off(o,e)}),i}},i}},{"./debounce":4,atoa:3}],6:[function(n,o,e){(function(l){(function(){"use strict";var i=n("custom-event"),r=n("./eventmap"),u=l.document,e=function(e,t,n,o){return e.addEventListener(t,n,o)},t=function(e,t,n,o){return e.removeEventListener(t,n,o)},c=[];function a(e,t,n){t=function(e,t,n){var o,i;for(o=0;o<c.length;o++)if((i=c[o]).element===e&&i.type===t&&i.fn===n)return o}(e,t,n);if(t){n=c[t].wrapper;return c.splice(t,1),n}}l.addEventListener||(e=function(e,t,n){return e.attachEvent("on"+t,function(e,t,n){var o=a(e,t,n)||function(n,o){return function(e){var t=e||l.event;t.target=t.target||t.srcElement,t.preventDefault=t.preventDefault||function(){t.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){t.cancelBubble=!0},t.which=t.which||t.keyCode,o.call(n,t)}}(e,n);return c.push({wrapper:o,element:e,type:t,fn:n}),o}(e,t,n))},t=function(e,t,n){n=a(e,t,n);if(n)return e.detachEvent("on"+t,n)}),o.exports={add:e,remove:t,fabricate:function(e,t,n){var o=-1===r.indexOf(t)?new i(t,{detail:n}):function(){var e;u.createEvent?(e=u.createEvent("Event")).initEvent(t,!0,!0):u.createEventObject&&(e=u.createEventObject());return e}();e.dispatchEvent?e.dispatchEvent(o):e.fireEvent("on"+t,o)}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./eventmap":7,"custom-event":8}],7:[function(e,i,t){(function(o){(function(){"use strict";var e=[],t="",n=/^on/;for(t in o)n.test(t)&&e.push(t.slice(2));i.exports=e}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,n,t){(function(e){(function(){var t=e.CustomEvent;n.exports=function(){try{var e=new t("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}}()?t:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t,n){var o,i,t=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(t){if(o===setTimeout)return setTimeout(t,0);if((o===r||!o)&&setTimeout)return o=setTimeout,setTimeout(t,0);try{return o(t,0)}catch(e){try{return o.call(null,t,0)}catch(e){return o.call(this,t,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:r}catch(e){o=r}try{i="function"==typeof clearTimeout?clearTimeout:u}catch(e){i=u}}();var a,l=[],f=!1,s=-1;function d(){f&&a&&(f=!1,a.length?l=a.concat(l):s=-1,l.length&&m())}function m(){if(!f){var e=c(d);f=!0;for(var t=l.length;t;){for(a=l,l=[];++s<t;)a&&a[s].run();s=-1,t=l.length}a=null,f=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===u||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||f||c(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=v,t.addListener=v,t.once=v,t.off=v,t.removeListener=v,t.removeAllListeners=v,t.emit=v,t.prependListener=v,t.prependOnceListener=v,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],10:[function(e,n,t){(function(t){(function(){var e="function"==typeof t?function(e){t(e)}:function(e){setTimeout(e,0)};n.exports=e}).call(this)}).call(this,e("timers").setImmediate)},{timers:11}],11:[function(a,e,l){(function(n,c){(function(){var o=a("process/browser.js").nextTick,e=Function.prototype.apply,i=Array.prototype.slice,r={},u=0;function t(e,t){this._id=e,this._clearFn=t}l.setTimeout=function(){return new t(e.call(setTimeout,window,arguments),clearTimeout)},l.setInterval=function(){return new t(e.call(setInterval,window,arguments),clearInterval)},l.clearTimeout=l.clearInterval=function(e){e.close()},t.prototype.unref=t.prototype.ref=function(){},t.prototype.close=function(){this._clearFn.call(window,this._id)},l.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},l.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},l._unrefActive=l.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},l.setImmediate="function"==typeof n?n:function(e){var t=u++,n=!(arguments.length<2)&&i.call(arguments,1);return r[t]=!0,o(function(){r[t]&&(n?e.apply(null,n):e.call(null),l.clearImmediate(t))}),t},l.clearImmediate="function"==typeof c?c:function(e){delete r[e]}}).call(this)}).call(this,a("timers").setImmediate,a("timers").clearImmediate)},{"process/browser.js":9,timers:11}]},{},[2])(2)});